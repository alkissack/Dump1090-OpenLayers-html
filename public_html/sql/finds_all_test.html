<html>

<head>
  <script language="javascript" type="text/javascript" src="../jquery/jquery-3.7.1.min.js"></script>
</head>

<body>

  <!-------------------------------------------------------------------------
  1) Create some html content that can be accessed by jquery
  -------------------------------------------------------------------------->
  <h2> Metal Detecting Finds </h2>
  <h3> Get all data via: finds_all_test.php</h3>
  <div id="output">Results (be patient, it's a big table):<br><br></div>

  <script id="source" language="javascript" type="text/javascript">

    $(function () {
      $.ajax({
        url: 'sql-finds-layer.php',
        async: false,
        data: "",
        dataType: 'json',
        success: function (retData) {
          for (var i in retData) {
            var oneFind = retData[i];

            for (var y in oneFind) {
              if (y == "Lat") {
                var lat = oneFind[y];
              } else if (y == "Long") {
                var lon = oneFind[y];
              } else if (y == "Name") {
                var name = oneFind[y];
              }
            }

            $('#output').append(name + " lat:" + lat + " lon:" + lon).append("<br />");
          }
        }

      });
    });

  </script>
</body>

</html>